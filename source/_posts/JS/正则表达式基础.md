---
title: æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€--è¯­æ³•
date: 2018-11-02 15:08:44
tags: JSåŸºç¡€ æ­£åˆ™è¡¨è¾¾å¼ 
categories: JS
---

# æ­£åˆ™è¡¨è¾¾å¼(Regular Expressions)å­¦ä¹ ç¬”è®°(ä¸€) 

## 												--è¯­æ³•

*æ–‡ç« æ¥æº:[æ˜é‡‘|JsTheGreat](https://juejin.im/post/5bda4e6fe51d45681f245274)*

æ­£åˆ™è¡¨è¾¾å¼ä¸‰ä¸ªç‰¹ç‚¹: æå–æ–‡æœ¬, å¼ºå¤§, éš¾å­¦ ğŸ˜œ

### æ£€ç´¢æ™®é€šå­—ç¬¦

```javascript
'hello ğŸ˜€ regex'.match(/ğŸ˜€/);
// ["ğŸ˜€", index: 6, input: "hello ğŸ˜€ regex", groups: undefined]
```

### å¼€å§‹ä¸ç»“æŸ

**^** å­—ç¬¦(è„±å­—ç¬¦),åœ¨æ­£åˆ™ä¸­å±äºå…ƒå­—ç¬¦,è¡¨ç¤ºæ–‡æœ¬çš„å¼€å§‹,å³å¦‚æœå®ƒæ˜¯æ­£åˆ™ä¸»ä½“çš„ç¬¬ä¸€ä¸ªç¬¦å·,é‚£ä¹ˆç´§è·Ÿå®ƒçš„å­—ç¬¦å¿…é¡»æ˜¯è¢«åŒ¹é…æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—ç¬¦.

``` javascript
'regex'.match(/^r/);
// ["r", index: 0, input: "regex", groups: undefined]
```

``` javascript
'regex'.match(/a^r/);
// null
```

æ³¨æ„ç‚¹: 

* ä½œä¸ºåŒ¹é…æ–‡æœ¬å¼€å§‹å…ƒå­—ç¬¦çš„æ—¶å€™å¿…é¡»æ˜¯æ­£åˆ™ä¸»ä½“çš„ç¬¬ä¸€ä¸ªç¬¦å·,å¦åˆ™æ­£åˆ™æ— æ•ˆ
* å®ƒåŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®,ä¸æ˜¯å…·ä½“çš„æ–‡æœ¬
* åœ¨å…¶ä»–è§„åˆ™ä¸­å­˜åœ¨å¦å¤–çš„å«ä¹‰

**$**å­—ç¬¦ä¸**^**æ­£å¥½ç›¸å,å®ƒä»£è¡¨æ–‡æœ¬çš„ç»“æŸ,å¿…é¡»æ˜¯æ­£åˆ™ä¸»ä½“çš„æœ€åä¸€ä¸ªç¬¦å·.

```javascript
'regex'.match(/x$/);
// ["x", index: 4, input: "regex", groups: undefined]
```

### è½¬ä¹‰

æ­£åˆ™ä¸­å­˜åœ¨å¾ˆå¤šå…ƒå­—ç¬¦,è¿™äº›å…ƒå­—ç¬¦æœ¬èº«ä¹Ÿæ˜¯å­—ç¬¦,å¦‚æœæˆ‘ä»¬æƒ³è¦åŒ¹é…ä»–ä»¬æœ¬èº«æ—¶,å°±éœ€è¦ä½¿ç”¨è½¬ä¹‰**\\**

```javascript
'price: $3.6'.match(/\$[0-9]+\.[0-9]+$/);
// ["$3.6", index: 7, input: "price: $3.6", groups: undefined]
```

**\\**æœ¬èº«ä¹Ÿæ˜¯å…ƒå­—ç¬¦,å®ƒåé¢è·Ÿéšå…¶ä»–å…ƒå­—ç¬¦å°±å¯ä»¥è¿˜åŸé‚£ä¸ªå…ƒå­—ç¬¦æœ¬æ¥çš„å«ä¹‰

å½“**\\** **\\** æ—¶,è¡¨ç¤ºè½¬ä¹‰**\\**æœ¬èº«,å½“å‡ºç°ä¸‰ä¸ªæ—¶,æˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»¬åˆ†æˆä¸¤æ®µå»ç†è§£,ä»¥æ­¤ç±»æ¨

å½“æ™®é€šå­—ç¬¦å‰è·Ÿ**\\**æ—¶,è¿˜æ˜¯æ™®é€šå­—ç¬¦

### å¸¦åæ–œæ çš„å…ƒå­—ç¬¦

ä¸€èˆ¬æ¥è¯´,æ™®é€šå­—ç¬¦å‰åŠ åæ–œæ è¿˜æ˜¯æ™®é€šå­—ç¬¦,ä½†æ˜¯æœ‰äº›æ™®é€šå­—ç¬¦,æ·»åŠ åæ–œæ åä¼šå˜æˆå…ƒå­—ç¬¦

| å…ƒå­—ç¬¦ | å«ä¹‰                                   |
| ------ | -------------------------------------- |
| \b     | åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œ                       |
| \B     | åŒ¹é…ä¸€ä¸ªéå•è¯è¾¹ç•Œ                     |
| \d     | åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦                       |
| \D     | åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦                     |
| \s     | åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦                       |
| \S     | åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦                     |
| \w     | åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–è€…ä¸€ä¸ªæ•°å­—æˆ–è€…ä¸€ä¸ªä¸‹åˆ’çº¿ |
| \W     | åŒ¹é…ä¸€ä¸ªå­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ä¹‹å¤–çš„å­—ç¬¦   |

å¤§å†™ä»£è¡¨åä¹‰

* **\bå…ƒå­—ç¬¦**

  **\b**åŒ¹é…çš„ä¹Ÿæ˜¯å•ä¸ªä½ç½®,è€Œä¸æ˜¯å­—ç¬¦.å•è¯å’Œç©ºæ ¼ä¹‹é—´çš„ä½ç½®,å°±æ˜¯å•è¯è¾¹ç•Œ,å•è¯è¾¹ç•Œå¯¹ä¸­æ–‡ç­‰å…¶ä»–è¯­è¨€æ˜¯æ— æ•ˆçš„.

  ```javascript
  'hello regex'.match(/\bregex$/);
  // ["regex", index: 6, input: "hello regex", groups: undefined]
  'hello regex'.match(/\Bregex$/);
  // null
  ```

  ```javascript
  'jiangshuying gaoyuanyuan huosiyan'.match(/\bgaoyuanyuan\b/);
  // ["gaoyuanyuan", index: 13, input: "jiangshuying gaoyuanyuan huosiyan", groups: undefined]
  'æ±Ÿç–å½± é«˜åœ†åœ† éœæ€ç‡•'.match(/\bé«˜åœ†åœ†\b/);
  // null
  ```

* **\då…ƒå­—ç¬¦**

  **\d**åŒ¹é…å•ä¸ªæ•°å­—

  ```javascript
  '123'.match(/\d/);
  // ["1", index: 0, input: "123", groups: undefined]
  ```

* **\så…ƒå­—ç¬¦**

  **\s**åŒ¹é…å•ä¸ªç©ºç™½å­—ç¬¦,åŒ…æ‹¬ **ç©ºæ ¼\f\n\r\t\v** ,å¦‚æœä¸éœ€è¦åŒºåˆ†ç©ºæ ¼å’Œæ¢è¡Œ,å¯ä»¥ç›´æ¥ä½¿ç”¨**\s**

  ```javascript
  'a b'.match(/\w\s\w/);
  // ["a b", index: 0, input: "a b", groups: undefined]
  'a b'.match(/\w\f\w/);
  // null
  'a b'.match(/\w\n\w/);
  // null
  'a b'.match(/\w\r\w/);
  // null
  'a b'.match(/\w\t\w/);
  // null
  'a b'.match(/\w\v\w/);
  // null
  'a b'.match(/\w \w/);
  // ["a b", index: 0, input: "a b", groups: undefined]
  ```

* **\wå…ƒå­—ç¬¦**

  **\w**åŒ¹é…å•ä¸ªå­—æ¯æ•°å­—ä¸‹åˆ’çº¿

  ```javascript
  'æ­£åˆ™'.match(/\w/);
  // null
  ```

### "."å­—ç¬¦

åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦

```javascript
'@regex'.match(/./);
// ["@", index: 0, input: "@regex", groups: undefined]
```

### é‡è¯

ä¸Šé¢ä»‹ç»äº†å¾ˆå¤šå…ƒå­—ç¬¦,éƒ½åªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦,å½“æˆ‘ä»¬è¦åŒ¹é…å¤šä¸ªæ—¶,è¯¥æ€ä¹ˆåŠå‘¢?

| é‡è¯  | å«ä¹‰                                 |
| ----- | ------------------------------------ |
| ?     | é‡å¤0æ¬¡æˆ–ä¸€æ¬¡                        |
| +     | é‡å¤ä¸€æ¬¡æˆ–è€…å¤šæ­¤,è‡³å°‘ä¸€æ¬¡            |
| *     | é‡å¤0æ¬¡æˆ–å¤šæ­¤,å³ä»»æ„æ¬¡               |
| {n}   | é‡å¤næ¬¡                              |
| {n,}  | é‡å¤næ¬¡æˆ–è€…æ›´å¤šæ¬¡                    |
| {n,m} | é‡å¤næ¬¡åˆ°mæ¬¡ä¹‹é—´çš„æ¬¡æ•°ï¼ŒåŒ…å«næ¬¡å’Œmæ¬¡ |

è¯´æ˜: 

* **?**åœ¨è¯¸å¦‚åŒ¹é…httpåè®®æ—¶å¾ˆæœ‰ç”¨,å¦‚**/http(s)?/**
* ä½¿ç”¨**/.*/**åŒ¹é…å¯¹æˆ‘ä»¬æ²¡æœ‰ç”¨çš„æ–‡æœ¬,è¡¨ç¤º**è‹¥å¹²é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„å­—ç¬¦**
* **{n,m}**ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼,ç©ºæ ¼åœ¨æ­£åˆ™ä¸­æ˜¯æœ‰å«ä¹‰çš„

***é‡è¯é‡å¤ç´§è´´åœ¨å®ƒå‰é¢çš„æŸä¸ªé›†åˆ***

```javascript
'gooooogle'.match(/go{2,5}gle/);
// ["gooooogle", index: 0, input: "gooooogle", groups: undefined]
//ä¸€ä¸ªé‡è¯ä¸èƒ½ç´§è´´åœ¨å¦ä¸€ä¸ªé‡è¯åé¢
'gooooogle'.match(/go{2,5}+gle/);
// Uncaught SyntaxError: Invalid regular expression: /go{2,5}+gle/: Nothing to repeat
```

### è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼

```javascript
'https'.match(/http(s)?/);
// ["https", "s", index: 0, input: "https", groups: undefined]
'https'.match(/http(s)??/);
// ["http", undefined, index: 0, input: "https", groups: undefined]
```

ç´§è·Ÿåœ¨**?**åé¢çš„**?**ä¸æ˜¯ä¸€ä¸ªé‡è¯,è€Œæ˜¯ä¸€ä¸ªæ¨¡å¼åˆ‡æ¢ç¬¦,ä»è´ªå©ªæ¨¡å¼åˆ‡æ¢åˆ°éè´ªå©ªæ¨¡å¼.

è´ªå©ªæ¨¡å¼åœ¨æ­£åˆ™ä¸­æ˜¯é»˜è®¤æ¨¡å¼,å°±æ˜¯åœ¨æ—¢å®šè§„åˆ™ä¸‹åŒ¹é…å°½å¯èƒ½å¤šçš„æ–‡æœ¬.ç´§è·Ÿåœ¨é‡è¯åé¢åŠ ä¸Š**?**å°±æ˜¯å¼€å¯éè´ªå©ªæ¨¡å¼,è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„:**?**å¿…é¡»ç´§è·Ÿé‡è¯,ä¸ç„¶å°±è‡ªå·±å˜æˆé‡è¯äº†.

### å­—ç¬¦ç»„

æ­£åˆ™ä¸­çš„æ™®é€šå­—ç¬¦åªèƒ½åŒ¹é…å®ƒè‡ªå·±,å¦‚æœæˆ‘ä»¬ä¸èƒ½ç¡®å®šä¸€ä¸ªæ™®é€šå­—ç¬¦æ˜¯ä»€ä¹ˆ,è¯¥æ€ä¹ˆåŠå‘¢?

```javascript
'grey or gray'.match(/gr[ae]y/);
// ["grey", index: 0, input: "grey or gray", groups: undefined]
```

æ–¹æ‹¬å·åœ¨æ­£åˆ™ä¸­è¡¨ç¤ºä¸€ä¸ªåŒºé—´,æˆ‘ä»¬ç§°ä¹‹ä¸ºå­—ç¬¦ç»„.

* å­—ç¬¦ç»„ä¸­çš„å­—ç¬¦é›†åˆåªæ˜¯æ‰€æœ‰çš„å¯é€‰é¡¹,æœ€ç»ˆåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦

* å­—ç¬¦ç»„æ˜¯ç‹¬ç«‹çš„,å­—ç¬¦ç»„å†…éƒ¨çš„å…ƒå­—ç¬¦ä¸éœ€è¦è½¬ä¹‰

* **^**å’Œ**-**åœ¨å­—ç¬¦ç»„ä¸­å­˜åœ¨ç‰¹æ®Šå«ä¹‰

  **^**åœ¨å­—ç¬¦ç»„ä¸­è¡¨ç¤ºå–å,**-**ä¸å†æ˜¯æ™®é€šå­—ç¬¦,è€Œæ˜¯è¡¨ç¤ºè¿å­—ç¬¦(åŒ¹é…èŒƒå›´åœ¨å®ƒå·¦è¾¹å­—ç¬¦å’Œå³è¾¹å­—ç¬¦ä¹‹é—´çš„å­—ç¬¦),å¦‚æœè¦è¡¨ç¤ºæ™®é€šå­—ç¬¦,ä½¿ç”¨**\\**è½¬ä¹‰ç¬¦

  ```javascript
  '$'.match(/[$&@]/);
  // ["$", index: 0, input: "$", groups: undefined]
  'regex'.match(/[^abc]/);//åŒ¹é…ä¸æ˜¯abcçš„å­—ç¬¦
  // ["r", index: 0, input: "regex", groups: undefined]
  '13'.match(/[1-9]3/);
  // ["13", index: 0, input: "13", groups: undefined]
  'abc-3'.match(/[0-z]/);
  // ["a", index: 0, input: "abc-3", groups: undefined]
  'xyz-3'.match(/[0-c]/);
  // ["3", index: 4, input: "xyz-3", groups: undefined]
  'xyz-3'.match(/[0-$]/);
  // Uncaught SyntaxError: Invalid regular expression: /[0-$]/: Range out of order in character class
  ```

  åªæœ‰ä¸¤ç§å­—ç¬¦æ˜¯å¯ä»¥ç”¨è¿å­—ç¬¦çš„ï¼šè‹±æ–‡å­—æ¯å’Œæ•°å­—ã€‚è€Œä¸”è‹±æ–‡å­—æ¯å¯ä»¥å’Œæ•°å­—è¿èµ·æ¥ï¼Œè‹±æ–‡å­—æ¯çš„é¡ºåºåœ¨åé¢.

  ### æ•è·ç»„ä¸éæ•è·ç»„

  ```javascript
  'i love you very very very much'.match(/i love you (very )+much/);
  // ["i love you very very very much", "very ", index: 0, input: "i love you very very very much", groups: undefined]
  ```

  åœ†æ‹¬å·çš„æ„æ€æ˜¯å°†å®ƒå…¶ä¸­çš„å­—ç¬¦é›†åˆæ‰“åŒ…æˆä¸€ä¸ªæ•´ä½“,ç„¶åé‡è¯å°±å¯ä»¥æ“ä½œè¿™ä¸ªæ•´ä½“äº†.

  #### æ­£åˆ™å†…æ•è·

  ```javascript
  '<App>hello regex</App>'.match(/<([a-zA-Z]+)>.*<\/\1>/);
  // ["<App>hello regex</App>", "App", index: 0, input: "<App>hello regex</App>", groups: undefined]
  ```

  æ­£åˆ™å†…æ•è·ä½¿ç”¨**\æ•°å­—**çš„å½¢å¼,åˆ†åˆ«å¯¹åº”å‰é¢çš„åœ†æ‹¬å·æ•è·çš„å†…å®¹,è¿™ç§æ•è·çš„å¼•ç”¨ä¹Ÿç§°ä¸ºåå‘å¼•ç”¨.

  ```javascript
  '<App>hello regex</App><p>A</p><p>hello regex</p>'.match(/<((A|a)pp)>(hello regex)+<\/\1><p>\2<\/p><p>\3<\/p>/);
  // ["<App>hello regex</App><p>A</p><p>hello regex</p>", "App", "A", "hello regex", index: 0, input: "<App>hello regex</App><p>A</p><p>hello regex</p>", groups: undefined]
  ```

  å¦‚æœæœ‰åµŒå¥—çš„åœ†æ‹¬å·,é‚£ä¹ˆæ•è·çš„å¼•ç”¨æ˜¯å…ˆé€’å½’,ç„¶åæ‰æ˜¯ä¸‹ä¸€ä¸ªé¡¶çº§æ•è·.

  #### æ­£åˆ™å¤–æ•è·

  ```javascript
  '@abc'.match(/@(abc)/);
  // ["@abc", "abc", index: 0, input: "@abc", groups: undefined]
  '@xyz'.match(/@(xyz)/);
  // ["@xyz", "xyz", index: 0, input: "@xyz", groups: undefined]
  RegExp.$1;
  // "xyz"
  'hello **regex**'.replace(/\*{2}(.*)\*{2}/, '<strong>$1</strong>');
  // "hello <strong>regex</strong>"
  ```

  **RegExp**æ˜¯æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ„é€ å‡½æ•°,å¦‚æœæœ‰æ•è·ç»„,å®ƒçš„å®ä¾‹å±æ€§**$æ•°å­—**ä¼šæ˜¾ç¤ºå¯¹åº”çš„å¼•ç”¨,å¦‚æœæœ‰å¤šä¸ªæ­£åˆ™æ•è·ç»„,åˆ™æ˜¾ç¤ºæœ€åä¸€ä¸ªæ­£åˆ™çš„æ•è·.

  #### æ•è·å‘½å

  ä½¿ç”¨**\æ•°å­—**å¼•ç”¨æ•è·å¿…é¡»ä¿è¯æ•è·ç»„çš„é¡ºåºä¸å˜,åœ¨ES2018ä¸­,å¢åŠ äº†æ•è·å‘½åçš„æ–°ç‰¹æ€§,æ˜¯å¼•ç”¨æ›´åŠ ç¡®å®š.

  ```javascript
  '<App>hello regex</App>'.match(/<(?<tag>[a-zA-Z]+)>.*<\/\k<tag>>/);
  // ["<App>hello regex</App>", "App", index: 0, input: "<App>hello regex</App>", groups: {tag: "App"}]
  ```

  åœ¨æ•è·ç»„å†…éƒ¨æœ€å‰é¢åŠ ä¸Š**?<key>**,å®ƒå°±è¢«å‘½åäº†,ä½¿ç”¨**\k<key>**è¯­æ³•å°±å¯ä»¥å¼•ç”¨å·²ç»å‘½åçš„æ•è·ç»„.

  ### åˆ†æ”¯

  å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨æ­£åˆ™ä¸­ä½¿ç”¨**æˆ–è€…**,é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨**|**

  ```javascript
  'é«˜åœ†åœ†'.match(/é™ˆä¹”æ©|é«˜åœ†åœ†/);
  // ["é«˜åœ†åœ†", index: 0, input: "é«˜åœ†åœ†", groups: undefined]
  ```

  å­—ç¬¦ç»„ä¹Ÿæ˜¯ä¸€ä¸ªå¤šé€‰ç»“æ„,ä½†æ˜¯ä¸åˆ†æ”¯ä¸åŒ.å­—ç¬¦ç»„æœ€ç»ˆåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦,è€Œåˆ†æ”¯åŒ¹é…çš„æ˜¯**|**å·¦è¾¹æ‰€æœ‰çš„å­—ç¬¦æˆ–è€…å³è¾¹æ‰€æœ‰çš„å­—ç¬¦.

### é›¶å®½æ–­è¨€ğŸ˜‚

é›¶å®½: å®ƒåŒ¹é…ä¸€ä¸ªä½ç½®,æœ¬èº«æ²¡æœ‰å®½åº¦

æ–­è¨€: ä¸€ç§åˆ¤æ–­,æ–­è¨€ä¹‹å‰æˆ–è€…ä¹‹ååº”è¯¥æœ‰ä»€ä¹ˆæˆ–åº”è¯¥æ²¡æœ‰ä»€ä¹ˆ

#### é›¶å®½è‚¯å®šå…ˆè¡Œæ–­è¨€(?=)

```javascript
'CoffeeScript JavaScript javascript'.match(/\b\w{4}(?=Script\b)/);
// ["Java", index: 13, input: "CoffeeScript JavaScript javascript", groups: undefined]
```

äººè¯: è¦åŒ¹é…ä¸€æ®µæ–‡æœ¬,è¿™æ®µæ–‡æœ¬åé¢å¿…é¡»ç´§è·Ÿå¦ä¸€æ®µç‰¹å®šçš„æ–‡æœ¬,å³è¦æ»¡è¶³æ–­è¨€å‰é¢çš„æ¡ä»¶,ä¹Ÿè¦æ»¡è¶³åé¢çš„æ¡ä»¶,ä½†æ˜¯è¿”å›ç»“æœåªè¦å‰é¢éƒ¨åˆ†çš„æ–‡æœ¬.

#### é›¶å®½è‚¯å®šåè¡Œæ–­è¨€(?<=)

```javascript
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)éœ\S+/);
// ["éœæ€ç‡•", index: 14, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)éœ.+?(?=\s|$)/);
// ["éœæ€ç‡•", index: 14, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
```

åŒ¹é…ä¸€æ®µæ–‡æœ¬,è¿™æ®µæ–‡æœ¬å‰é¢å¿…é¡»ç´§è·Ÿå¦ä¸€æ®µç‰¹å®šçš„æ–‡æœ¬,åªå–åé¢çš„æ–‡æœ¬

#### é›¶å®½å¦å®šå…ˆè¡Œæ–­è¨€(?!)

```javascript
'TypeScript Perl JavaScript'.match(/\b\w{4}(?!Script\b)/);
// ["Perl", index: 11, input: "TypeScript Perl JavaScript", groups: undefined]
```

å¦å®šå°±æ˜¯æ²¡æœ‰,å°±æ˜¯è¦æ±‚ä¸€æ®µæ–‡æœ¬,åé¢ä¸€å®šä¸è¦ç´§è·Ÿä¸€æ®µæŒ‡å®šæ–‡æœ¬

#### é›¶å®½å¦å®šåè¡Œæ–­è¨€(?<!)

```javascript
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<!æ¼”å‘˜)éœ\S+/);
// ["éœå»ç—…", index: 8, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
```

è¦æ±‚ä¸€æ®µæ–‡æœ¬,å‰é¢ä¸€å®šä¸æ›´æŸä¸€æ®µæŒ‡å®šæ–‡æœ¬

### ä¿®é¥°ç¬¦

è¯­æ³•: å°†ä¿®é¥°ç¬¦æ”¾åœ¨æ­£åˆ™ä¸»é¢˜çš„æœ«å°¾,å¦‚: **/abc/gi**

#### gä¿®é¥°ç¬¦(global)

é»˜è®¤æƒ…å†µä¸‹,æ­£åˆ™ä»å·¦å‘å³åŒ¹é…,åªè¦åŒ¹é…åˆ°ç»“æœå°±ä¼šç»“æŸ,gä¿®é¥°ç¬¦ä¼šå¼€å¯å…¨å±€åŒ¹é…æ¨¡å¼,æ‰¾åˆ°æ‰€æœ‰çš„åŒ¹é…ç»“æœ

```javascript
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)\S+/);
// ["é«˜åœ†åœ†", index: 2, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)\S+/g);
// ["é«˜åœ†åœ†", "éœæ€ç‡•"]
```

#### iä¿®é¥°ç¬¦(ignoreCase)

é»˜è®¤æƒ…å†µè¯,æ­£åˆ™æ˜¯åŒºåˆ†å¤§å°å†™çš„,iä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯å¯ä»¥å…¨å±€å¿½ç•¥å¤§å°å†™.

```javascript
'javascript is great'.match(/JavaScript/);
// null
'javascript is great'.match(/JavaScript/i);
// ["javascript", index: 0, input: "javascript is great", groups: undefined]
```

#### mä¿®é¥°ç¬¦(multiline)

é»˜è®¤æƒ…å†µä¸‹ï¼Œ**^**å’Œ**$**åŒ¹é…çš„æ˜¯æ–‡æœ¬çš„å¼€å§‹å’Œç»“æŸï¼ŒåŠ ä¸Š**m**ä¿®é¥°ç¬¦ï¼Œå®ƒä»¬çš„å«ä¹‰å°±å˜æˆäº†è¡Œçš„å¼€å§‹å’Œç»“æŸ

```javascript
`
abc
xyz
`.match(/xyz/);
// ["xyz", index: 5, input: "â†µabcâ†µxyzâ†µ", groups: undefined]
`
abc
xyz
`.match(/^xyz$/);
// null
`
abc
xyz
`.match(/^xyz$/m);
// ["xyz", index: 5, input: "â†µabcâ†µxyzâ†µ", groups: undefined]
```

#### yä¿®é¥°ç¬¦(sticky)

yä¿®é¥°ç¬¦æœ‰å’Œgä¿®é¥°ç¬¦é‡åˆçš„åŠŸèƒ½ï¼Œå®ƒä»¬éƒ½æ˜¯å…¨å±€åŒ¹é…,ä¸åŒåœ¨äº,gä¿®é¥°ç¬¦å¯¹æ–‡æœ¬ä½ç½®æ²¡æœ‰è¦æ±‚,åŒ¹é…å®Œä¸€ä¸ªæ¥ç€åŒ¹é…ä¸‹ä¸€ä¸ª,è€Œyä¿®é¥°ç¬¦è¦æ±‚å¿…é¡»ä»æ–‡æœ¬çš„å¼€å§‹åŒ¹é…,å¹¶ä¸”è¦æ±‚åŒ¹é…åˆ°çš„æ–‡æœ¬çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸‹ä¸€æ¬¡æ–‡æœ¬åŒ¹é…çš„å¼€å§‹.

```javascript
'a bag with a tag has a mag'.match(/\wag/g);
// ["bag", "tag", "mag"]
'a bag with a tag has a mag'.match(/\wag/y);
// null
'bagtagmag'.match(/\wag/y);
// ["bag", index: 0, input: "bagtagmag", groups: undefined]
'bagtagmag'.match(/\wag/gy);
// ["bag", "tag", "mag"]
```

â“â“â“ä¸æ˜¯è¯´yæ˜¯å…¨å±€åŒ¹é…å—,ä¸ºä»€ä¹ˆä¸Šé¢ç¬¬ä¸‰æ¡è¯­å¥æ²¡æœ‰å…¨å±€åŒ¹é….

##### lastIndex

é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜,æˆ‘ä»¬ä¸å¾—ä¸è®²ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼çš„lastIndexå±æ€§äº†.

JSä¸­,æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ–¹å¼æœ‰ä¸¤ç§,ä¸€ç§æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ–¹æ³•,ä¸€ç§æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•,å‰è€…æœ‰exec(str),test(str)ä¸¤ä¸ªæ–¹æ³•,åè€…match(regexp)ã€replace(regexp)ã€search(regexp)ã€split(search)å››ä¸ªæ–¹æ³•.å½“ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨æ—¶,éœ€è¦ç‰¹åˆ«æ³¨æ„lastIndexçš„å±æ€§.

lastIndexä»å­—é¢ä¸Šæ¥è®²å°±æ˜¯æœ€åä¸€ä¸ªç´¢å¼•ï¼Œå®é™…ä¸Šå®ƒçš„æ„æ€æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¼€å§‹ä¸‹ä¸€æ¬¡æŸ¥æ‰¾çš„ç´¢å¼•ä½ç½®ï¼Œç¬¬ä¸€æ¬¡çš„æ—¶å€™æ€»æ˜¯ä¸º0çš„ï¼Œç¬¬ä¸€æ¬¡æŸ¥æ‰¾å®Œäº†çš„æ—¶å€™ä¼šæŠŠlastIndexçš„å€¼è®¾ä¸ºåŒ¹é…åˆ°å¾—å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ä½ç½®åŠ 1ï¼Œç¬¬äºŒæ¬¡æŸ¥æ‰¾çš„æ—¶å€™ä¼šä»lastIndexè¿™ä¸ªä½ç½®å¼€å§‹ï¼Œåé¢çš„ä»¥æ­¤ç±»æ¨ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šæŠŠlastIndexé‡ç½®ä¸º0ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒlastIndexå±æ€§åªæœ‰åœ¨æœ‰å…¨å±€æ ‡å¿—æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‰æœ‰ä½œç”¨.

```javascript
const reg = /\wag/y;
reg.exec('bagtagmag');
// ["bag", index: 0, input: "bagtagmag", groups: undefined]
reg.exec('bagtagmag');
// ["tag", index: 3, input: "bagtagmag", groups: undefined]
reg.exec('bagtagmag');
// ["mag", index: 6, input: "bagtagmag", groups: undefined]
```

#### sä¿®é¥°ç¬¦(singleline)

**s**ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯è®©**.**å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦.

```javascript
`
abc
xyz
`.match(/c.x/);
// null
`
abc
xyz
`.match(/c.x/s);
// ["câ†µx", index: 3, input: "â†µabcâ†µxyzâ†µ", groups: undefined]
```

#### uä¿®é¥°ç¬¦(unicode)

æœ‰äº›Unicodeå­—ç¬¦è¶…è¿‡ä¸€ä¸ªå­—èŠ‚,æ­£åˆ™æ— æ³•æ­£ç¡®è¯†åˆ«,å¯ç”¨uä¿®é¥°ç¬¦æ¥å¤„ç†.



